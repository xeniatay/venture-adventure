<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Venture Adventure – Asset Class Simulator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="top" role="banner">
    <div class="intro">
      <span class="badge">Interactive Simulator</span>
      <h1><span class="icon" aria-hidden="true">🧭</span> Venture Adventure</h1>
      <p>Craft a $100K allocation, replay 2015–2025, and benchmark your instincts against market history.</p>
      <ul class="hero-highlights">
        <li><span class="icon" aria-hidden="true">📈</span> Blend private, public, and alternative asset classes.</li>
        <li><span class="icon" aria-hidden="true">⚡️</span> Upload custom data to stress test emerging theses.</li>
        <li><span class="icon" aria-hidden="true">🏆</span> Climb the local leaderboard with smarter allocations.</li>
      </ul>
    </div>
    <div class="meta" aria-label="Retail mode toggle">
      <div class="toggle">
        <input type="checkbox" id="retailToggle">
        <label for="retailToggle" class="toggle-label">
          <span class="toggle-icon" aria-hidden="true">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C13.8306 4 15.5196 4.61204 16.8891 5.65107" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 7V13L15.5 15" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </span>
          Retail access mode
        </label>
      </div>
      <div class="explain">Limits access to private equity and venture funds to mirror real-world eligibility.</div>
    </div>
  </header>

  <main>
    <section class="panel" id="allocationPanel">
      <div class="panel-head">
        <span class="step-badge">Step 1</span>
        <h2><span class="icon" aria-hidden="true">🧮</span> Build Your Portfolio</h2>
        <p class="panel-subtitle">Drag sliders or enter precise weights until you reach a balanced 100% allocation.</p>
      </div>
      <section class="dataset-import" aria-label="Historical data controls">
        <div class="import-head">
          <h3><span class="icon" aria-hidden="true">🗂️</span> Historical Returns Dataset</h3>
          <p>Upload a CSV with columns <code>assetId, year, return</code> to replace the built-in 2015–2025 series.</p>
        </div>
        <div class="import-controls">
          <label class="file-input">
            <span class="file-icon" aria-hidden="true">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 16V4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8 12L12 16L16 12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 20H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </span>
            <span>Select CSV</span>
            <input type="file" id="datasetInput" accept=".csv">
          </label>
          <button type="button" class="ghost" id="resetDatasetBtn" disabled>
            <span class="icon" aria-hidden="true">↺</span>
            Reset to defaults
          </button>
        </div>
        <div class="dataset-status" id="datasetStatus" role="status">Using illustrative default dataset.</div>
      </section>
      <div id="allocationList" class="allocation-list"></div>
      <div class="summary">
        <div class="summary-chip">Total allocation <strong id="totalAllocation">0%</strong></div>
        <div class="warning" id="allocationWarning">Total must equal 100%.</div>
      </div>
      <div class="actions">
        <label class="name-entry">
          Player name
          <input type="text" id="playerName" maxlength="24" placeholder="Optional">
        </label>
        <button id="simulateBtn" disabled>
          <span class="icon" aria-hidden="true">▶</span>
          Run 10-Year Simulation
        </button>
      </div>
    </section>

    <section class="panel hidden" id="resultsPanel">
      <div class="panel-head">
        <span class="step-badge">Step 2</span>
        <h2><span class="icon" aria-hidden="true">📊</span> Results & Insights</h2>
        <p class="panel-subtitle">Review performance, compare benchmarks, and learn what fueled your outcome.</p>
      </div>
      <div class="results-grid">
        <div class="card key-stats">
          <h3>Your Portfolio</h3>
          <div class="stat">
            <div class="label">Final value</div>
            <div class="value" id="finalValue">$0</div>
          </div>
          <div class="stat">
            <div class="label">CAGR</div>
            <div class="value" id="cagrValue">0%</div>
          </div>
          <div class="stat">
            <div class="label">Percentile vs. leaderboard</div>
            <div class="value" id="percentileValue">–</div>
          </div>
        </div>
        <div class="card timeline">
          <h3>Portfolio Growth (2015–2025)</h3>
          <canvas id="growthChart" width="640" height="320"></canvas>
        </div>
        <div class="card breakdown">
          <h3>Asset Class Breakdown</h3>
          <div id="breakdownList"></div>
        </div>
        <div class="card comparisons">
          <h3>Benchmarks</h3>
          <div id="comparisonList" class="comparison-list"></div>
        </div>
      </div>
      <button class="ghost" id="tryAgainBtn">
        <span class="icon" aria-hidden="true">🛠️</span>
        Adjust Allocation
      </button>
    </section>

    <section class="panel" id="leaderboardPanel">
      <div class="panel-head">
        <span class="step-badge">Step 3</span>
        <h2><span class="icon" aria-hidden="true">🏅</span> Leaderboard</h2>
        <p class="panel-subtitle">Top portfolios saved locally on this device. Iterate on your allocation to climb the ranks.</p>
      </div>
      <ol id="leaderboardList" class="leaderboard"></ol>
    </section>
  </main>

  <footer>
    <p>
      <span class="icon" aria-hidden="true">ℹ️</span>
      Historical return multipliers are illustrative and derived from public market proxies for educational use.
    </p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
